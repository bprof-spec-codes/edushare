<div class="container mt-4">
  <h2 class="mb-4 text-center">Feltöltött anyagok</h2>

  <div *ngIf="loading" class="text-center text-secondary">Betöltés...</div>
  <div *ngIf="error" class="alert alert-danger text-center">{{ error }}</div>

  <ul class="list-group" *ngIf="!loading && materials.length">
    <li *ngFor="let m of materials" class="list-group-item d-flex align-items-center justify-content-between"
      (click)="openDetail(m)" style="cursor: pointer;">
      <div class="d-flex align-items-center">
        <img *ngIf="m.uploader?.image?.file" [src]="m.uploader.image.file.startsWith('http')
                  ? m.uploader.image.file
                  : 'data:image/*;base64,' + m.uploader.image.file" [alt]="m.uploader.fullName"
          class="rounded-circle me-3" width="50" height="50" />
        <div>
          <h6 class="mb-0">{{ m.title }}</h6>
          <small class="text-muted">
            Feltöltő: {{ m.uploader.fullName || 'Ismeretlen' }}
          </small>
        </div>
      </div>
      <small class="text-muted">{{ m.uploadDate | date: 'yyyy.MM.dd. HH:mm' }}</small>
    </li>
  </ul>

  <p *ngIf="!loading && !materials.length" class="text-center text-muted mt-3">
    Nincs megjeleníthető anyag.
  </p>
</div>